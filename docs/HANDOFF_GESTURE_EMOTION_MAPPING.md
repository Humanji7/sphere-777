# HANDOFF: Дифференциация жестов → эмоций

## Статус
- **Дата**: 2026-01-10 22:47
- **Проблема**: Сфера "нервничает" постоянно — любое движение = alert/bleeding

---

## Корень проблемы

Сейчас: `движение мыши/пальца → эмоция`

Результат: **сфера всегда красная**, потому что пользователь постоянно двигает курсор.

---

## Идея: Разные жесты → Разные эмоции

| Жест | Эмоция | Визуал |
|------|--------|--------|
| **Hover/легкое движение** | Peace (любопытство) | Холодный голубой |
| **Быстрый свайп** | Alert (удивление) | Тёплый, секундная вспышка |
| **Удержание (hold)** | Trust (нарастающее доверие) | Золотой, медленно |
| **Double-tap** | Bleeding (глубокий контакт) | Красный, пульсация |

---

## Что нужно реализовать

### 1. Gesture Classifier
Определять **тип** взаимодействия:
- `hover` — курсор движется, но не над сферой
- `touch` — легкое касание / один клик
- `swipe` — быстрое движение по сфере
- `hold` — зажатие > 500ms
- `doubleTap` — два тапа < 300ms

### 2. Emotion Mapper
```javascript
gestureToEmotion = {
    'hover': 'peace',      // Спокойная фаза
    'touch': 'peace',      // Лёгкий контакт
    'swipe': 'alert',      // Быстро = удивление
    'hold': 'trust',       // Долго = доверие
    'doubleTap': 'bleeding' // Глубокий контакт
}
```

### 3. Decay система
- `alert` от swipe → затухает за 1-2 сек обратно в peace
- `bleeding` от double-tap → затухает за 3-5 сек
- Не накапливать эмоции!

---

## Бонус: Вращение сферы

Сейчас сферу нельзя покрутить рукой. Это могло бы быть:
- `drag` (зажать + потянуть) → вращение сферы
- Отдельно от `hold` (зажать без движения)

---

## Приоритет

1. **Gesture Classifier** — различать типы жестов
2. **Emotion Mapper** — привязать жесты к нужным эмоциям  
3. **Decay** — быстрое затухание "острых" эмоций
4. *(Опционально)* Вращение сферы drag'ом

---

## Файлы для изменения

| Файл | Что делать |
|------|-----------|
| `src/InputManager.js` | Gesture classifier |
| `src/Sphere.js` | Emotion mapping + decay |
| `src/LivingCore.js` | Возможно, ускорить lerp для decay |
