# üåø SPHERE-777: Organic Life Implementation

**–°–æ–∑–¥–∞–Ω–æ:** 2026-01-10  
**–¶–µ–ª—å:** –†–∞–∑—Ä—É—à–∏—Ç—å –æ—â—É—â–µ–Ω–∏–µ "–∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–Ω–æ—Å—Ç–∏", —Å–æ–∑–¥–∞—Ç—å –∏–ª–ª—é–∑–∏—é –∂–∏–≤–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞

---

## üìã –û–±–∑–æ—Ä —Ñ–∏—á

| # | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|----------|-----------|--------|
| 5 | –†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ "—Ç–∏–∫–∏" | üî• Phase 1 | ‚úÖ DONE |
| 8 | –ü—É–ª—å—Å–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ | üî• Phase 1 | ‚úÖ DONE |
| 4 | –ë–∏–æ–ª—é–º–∏–Ω–µ—Å—Ü–µ–Ω—Ü–∏—è | Phase 2 | ‚¨ú TODO |
| 6 | –ù–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å | Phase 2 | ‚¨ú TODO |
| 12 | –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ –æ—Ç —Å—Ñ–µ—Ä—ã | Phase 2 | ‚¨ú TODO |

---

# üî• PHASE 1: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã

---

## #5 ‚Äî –†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ "—Ç–∏–∫–∏" (Organic Micro-Movements)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–†–µ–¥–∫–∏–µ, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –º–∏–∫—Ä–æ-–¥–≤–∏–∂–µ–Ω–∏—è, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
–ö–∞–∫ —É –∂–∏–≤–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞ ‚Äî –ø–æ—á–µ—Å–∞—Ç—å—Å—è, –≤–∑–¥—Ä–æ–≥–Ω—É—Ç—å, –ø–æ—Ç—è–Ω—É—Ç—å—Å—è, "–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Å—Ç–æ—Ä–æ–Ω—É".

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
> "–ñ–∏–∑–Ω—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç"

### –¢–∏–ø—ã —Ç–∏–∫–æ–≤

| –¢–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ | –ß–∞—Å—Ç–æ—Ç–∞ | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
|-----|----------|---------|--------------|
| `twitch` | –ú–∏–∫—Ä–æ-–≤–∑–¥—Ä–∞–≥–∏–≤–∞–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (—Å–ª—É—á–∞–π–Ω–∞—è –∑–æ–Ω–∞) | 1 —Ä–∞–∑ –≤ 8-15 —Å–µ–∫ | 150-300ms |
| `stretch` | –õ—ë–≥–∫–æ–µ "–ø–æ—Ç—è–≥–∏–≤–∞–Ω–∏–µ" (–≤—ã–±—Ä–æ—Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã) | 1 —Ä–∞–∑ –≤ 20-40 —Å–µ–∫ | 400-700ms |
| `shiver` | –í–æ–ª–Ω–∞ –º—É—Ä–∞—à–µ–∫ –ø–æ –≤—Å–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ | 1 —Ä–∞–∑ –≤ 45-90 —Å–µ–∫ | 500-800ms |
| `glance` | –ì–ª–∞–∑ —Ä–µ–∑–∫–æ —Å–º–æ—Ç—Ä–∏—Ç –≤ —Å–ª—É—á–∞–π–Ω—É—é —Ç–æ—á–∫—É, –ø–æ—Ç–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è | 1 —Ä–∞–∑ –≤ 30-60 —Å–µ–∫ | 300-500ms |

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω

#### 1. –ù–æ–≤—ã–π –∫–ª–∞—Å—Å `OrganicTicks.js`

```javascript
// src/OrganicTicks.js
export class OrganicTicks {
  constructor(sphere, particleSystem, eye) {
    this.sphere = sphere
    this.particles = particleSystem
    this.eye = eye
    
    // Tick timers (randomized)
    this.nextTwitch = this._randomInterval(8, 15)
    this.nextStretch = this._randomInterval(20, 40)
    this.nextShiver = this._randomInterval(45, 90)
    this.nextGlance = this._randomInterval(30, 60)
    
    // Active tick state
    this.activeTick = null
    this.tickProgress = 0
  }
  
  update(delta, elapsed) {
    // Decrement timers
    // Trigger ticks when timer hits 0
    // Animate active tick
  }
  
  _randomInterval(min, max) {
    return min + Math.random() * (max - min)
  }
  
  _triggerTwitch() { /* ... */ }
  _triggerStretch() { /* ... */ }
  _triggerShiver() { /* ... */ }
  _triggerGlance() { /* ... */ }
}
```

#### 2. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `ParticleSystem.js`

–î–æ–±–∞–≤–∏—Ç—å uniforms –¥–ª—è —Ç–∏–∫–æ–≤:
```javascript
// –í _createMaterial()
uTickZone: { value: new THREE.Vector3(0, 0, 0) },  // –¶–µ–Ω—Ç—Ä –∑–æ–Ω—ã —Ç–∏–∫–∞
uTickRadius: { value: 0.0 },                        // –†–∞–¥–∏—É—Å –≤–ª–∏—è–Ω–∏—è
uTickIntensity: { value: 0.0 },                     // 0-1, —Å–∏–ª–∞ —Ç–∏–∫–∞
uTickType: { value: 0 }                             // 0=none, 1=twitch, 2=stretch, 3=shiver
```

–í vertex shader –¥–æ–±–∞–≤–∏—Ç—å:
```glsl
// TICK EFFECT
if (uTickIntensity > 0.0) {
  float tickDist = distance(aOriginalPos, uTickZone);
  float tickInfluence = (1.0 - smoothstep(0.0, uTickRadius, tickDist)) * uTickIntensity;
  
  if (uTickType == 1.0) {
    // Twitch: quick outward bump
    pos += dir * tickInfluence * 0.08;
  } else if (uTickType == 2.0) {
    // Stretch: directional pull
    pos += uTickZone * tickInfluence * 0.05;
  } else if (uTickType == 3.0) {
    // Shiver: noise-based displacement
    float shiverNoise = snoise(aOriginalPos * 15.0 + uTime * 5.0);
    pos += dir * shiverNoise * tickInfluence * 0.03;
  }
}
```

#### 3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `Eye.js`

–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `glanceAt(target, duration)`:
```javascript
glanceAt(target, duration = 0.4) {
  // Save current look target
  // Quickly move to random target
  // Return to original after duration
}
```

#### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `main.js`

```javascript
const organicTicks = new OrganicTicks(sphere, particleSystem, eye)
// –í update loop:
organicTicks.update(delta, elapsed)
```

### Acceptance Criteria
- [x] –°—Ñ–µ—Ä–∞ –≤–∑–¥—Ä–∞–≥–∏–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ –∫–∞–∂–¥—ã–µ 8-15 —Å–µ–∫—É–Ω–¥
- [x] –ì–ª–∞–∑ –∏–Ω–æ–≥–¥–∞ "–≥–ª—è–¥–∏—Ç –≤ —Å—Ç–æ—Ä–æ–Ω—É" –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
- [x] –¢–∏–∫–∏ –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤–æ –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (hold, stroke)
- [x] –û—â—É—â–µ–Ω–∏–µ "–æ–Ω–∞ –∂–∏–≤—ë—Ç —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é"

---

## #8 ‚Äî –ü—É–ª—å—Å–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ (Living Heartbeat Haptics)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–í–∏–±—Ä–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å "—Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ–º" —Å—Ñ–µ—Ä—ã.
–ù–µ –æ–¥–∏–Ω –ø–∞—Ç—Ç–µ—Ä–Ω, –∞ –∂–∏–≤–æ–π —Ä–∏—Ç–º —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏, –æ—Ç—Ä–∞–∂–∞—é—â–∏–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
> "–¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å –µ—ë –ø—É–ª—å—Å —á–µ—Ä–µ–∑ —ç–∫—Ä–∞–Ω"

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∏–±—Ä–∞—Ü–∏–∏

| –§–∞–∑–∞ | BPM | –†–∏—Ç–º | –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å |
|------|-----|------|---------------|
| PEACE | 60-70 | –†–æ–≤–Ω—ã–π, –≥–ª—É–±–æ–∫–∏–π | –ú—è–≥–∫–∞—è (10-20ms) |
| LISTENING | 70-80 | –†–æ–≤–Ω—ã–π, —á—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ | –°—Ä–µ–¥–Ω—è—è |
| TENSION | 90-110 | –£—Å–∫–æ—Ä—è—é—â–∏–π—Å—è | –ù–∞—Ä–∞—Å—Ç–∞—é—â–∞—è |
| BLEEDING | 120-140 | –•–∞–æ—Ç–∏—á–Ω—ã–π | –°–∏–ª—å–Ω–∞—è + –ø—Ä–æ–ø—É—Å–∫–∏ |
| TRAUMA | 50-60 | –ó–∞–º–µ–¥–ª–µ–Ω–Ω—ã–π, —Ç—è–∂—ë–ª—ã–π | –ì–ª—É—Ö–∞—è (–¥–ª–∏–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã) |
| HEALING | 65-75 | –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π—Å—è | –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º—è–≥—á–µ |
| RECOGNITION | 55-65 | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å –¥—ã—Ö–∞–Ω–∏–µ–º | –ì–ª—É–±–æ–∫–∞—è |

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω

#### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `HapticManager.js`

```javascript
// src/HapticManager.js
export class HapticManager {
  constructor() {
    this.supported = 'vibrate' in navigator
    this.lastBeat = 0
    this.currentBPM = 65
    this.beatInterval = 60000 / this.currentBPM  // ms between beats
    
    // Rhythm variation
    this.rhythmVariation = 0.1  // ¬±10% timing variation
    this.intensityBase = 15     // ms base pulse
    this.intensityVariation = 0.2
    
    // State
    this.isActive = false
    this.phase = 'peace'
  }
  
  /**
   * Start continuous heartbeat synchronized with sphere
   */
  startHeartbeat(phase = 'peace') {
    this.isActive = true
    this.phase = phase
    this._updatePhaseParameters(phase)
  }
  
  /**
   * Stop heartbeat
   */
  stopHeartbeat() {
    this.isActive = false
  }
  
  /**
   * Update phase parameters
   */
  _updatePhaseParameters(phase) {
    const params = {
      peace:       { bpm: 65,  intensity: 15, variation: 0.08, pattern: 'steady' },
      listening:   { bpm: 75,  intensity: 18, variation: 0.10, pattern: 'steady' },
      tension:     { bpm: 100, intensity: 25, variation: 0.15, pattern: 'accelerating' },
      bleeding:    { bpm: 130, intensity: 35, variation: 0.25, pattern: 'chaotic' },
      trauma:      { bpm: 55,  intensity: 40, variation: 0.05, pattern: 'heavy' },
      healing:     { bpm: 70,  intensity: 20, variation: 0.12, pattern: 'recovering' },
      recognition: { bpm: 60,  intensity: 25, variation: 0.05, pattern: 'synchronized' }
    }
    
    const p = params[phase] || params.peace
    this.currentBPM = p.bpm
    this.beatInterval = 60000 / p.bpm
    this.intensityBase = p.intensity
    this.rhythmVariation = p.variation
    this.pattern = p.pattern
  }
  
  /**
   * Call every frame from Sphere.update()
   */
  update(delta, elapsed, breathPhase) {
    if (!this.isActive || !this.supported) return
    
    const now = performance.now()
    const timeSinceLastBeat = now - this.lastBeat
    
    // Apply rhythm variation
    const variation = 1 + (Math.random() - 0.5) * 2 * this.rhythmVariation
    const currentInterval = this.beatInterval * variation
    
    if (timeSinceLastBeat >= currentInterval) {
      this._beat()
      this.lastBeat = now
    }
  }
  
  /**
   * Single heartbeat pulse
   */
  _beat() {
    // Intensity variation
    const intensityVar = 1 + (Math.random() - 0.5) * 2 * this.intensityVariation
    const duration = Math.floor(this.intensityBase * intensityVar)
    
    // Pattern-specific behavior
    switch (this.pattern) {
      case 'steady':
        navigator.vibrate(duration)
        break
      case 'heavy':
        // Double beat (lub-dub)
        navigator.vibrate([duration, 80, duration * 0.7])
        break
      case 'chaotic':
        // Random skips
        if (Math.random() > 0.15) {
          navigator.vibrate(duration)
        }
        break
      case 'synchronized':
        // Stronger on exhale
        navigator.vibrate([duration, 50, duration * 0.5])
        break
      default:
        navigator.vibrate(duration)
    }
  }
  
  /**
   * Set phase (called from Sphere when phase changes)
   */
  setPhase(phase) {
    if (this.phase !== phase) {
      this.phase = phase
      this._updatePhaseParameters(phase)
    }
  }
  
  // Existing methods...
  softTouch() {
    if (!this.supported) return
    navigator.vibrate(10)
  }
  
  heartbeat(intensity) {
    if (!this.supported) return
    const duration = Math.floor(20 + intensity * 30)
    navigator.vibrate([duration, 100, duration])
  }
}
```

#### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `Sphere.js`

```javascript
// –í _transitionTo():
_transitionTo(newPhase) {
  // ... existing code ...
  
  // Update haptic phase
  if (this.hapticManager) {
    this.hapticManager.setPhase(newPhase)
  }
}

// –í update():
update(delta, elapsed) {
  // ... existing code ...
  
  // Update haptic heartbeat
  if (this.hapticManager) {
    this.hapticManager.update(delta, elapsed, this.particles.breathPhase)
  }
}
```

#### 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤ `main.js`

```javascript
// –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ user interaction:
function onFirstTouch() {
  // ... existing audio unlock ...
  
  // Start haptic heartbeat
  hapticManager.startHeartbeat('peace')
}
```

### Acceptance Criteria
- [x] –¢–µ–ª–µ—Ñ–æ–Ω –ø—É–ª—å—Å–∏—Ä—É–µ—Ç –≤ —Ç–∞–∫—Ç "—Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏—é" —Å—Ñ–µ—Ä—ã
- [x] BPM –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ñ–∞–∑—ã
- [x] –†–∏—Ç–º –ù–ï –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏ —Ä–æ–≤–Ω—ã–π ‚Äî –µ—Å—Ç—å –≤–∞—Ä–∏–∞—Ü–∏–∏
- [x] –í BLEEDING —Ñ–∞–∑–µ ‚Äî —Ö–∞–æ—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–ø—É—Å–∫–∏
- [x] –í TRAUMA ‚Äî —Ç—è–∂—ë–ª—ã–π –¥–≤–æ–π–Ω–æ–π —É–¥–∞—Ä (lub-dub)
- [x] –ü—É–ª—å—Å –æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ "–∂–∏–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–º"

---

# üî• PHASE 2: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã

---

## #4 ‚Äî –ë–∏–æ–ª—é–º–∏–Ω–µ—Å—Ü–µ–Ω—Ü–∏—è (Inner Glow)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–°–≤–µ—á–µ–Ω–∏–µ –∏–∑–Ω—É—Ç—Ä–∏ —Å—Ñ–µ—Ä—ã, –ø—É–ª—å—Å–∏—Ä—É—é—â–µ–µ –ù–ï —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –¥—ã—Ö–∞–Ω–∏–µ–º.
–î–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–∏—Ç–º–∞ —Å–æ–∑–¥–∞—é—Ç –æ—â—É—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ ‚Äî "—Å–µ—Ä–¥—Ü–µ" –±—å—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç "–ª—ë–≥–∫–∏—Ö".

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
> "–î–≤–∞ —Ä–∏—Ç–º–∞ ‚Äî –ª—ë–≥–∫–∏–µ –∏ —Å–µ—Ä–¥—Ü–µ. –î—ã—Ö–∞–Ω–∏–µ —Å–Ω–∞—Ä—É–∂–∏, —Å–≤–µ—á–µ–Ω–∏–µ –∏–∑–Ω—É—Ç—Ä–∏. –û–Ω–∏ –ø–æ—á—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –Ω–æ –Ω–µ —Å–æ–≤—Å–µ–º ‚Äî –∏ –≤ —ç—Ç–æ–º —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–µ —Ä–æ–∂–¥–∞–µ—Ç—Å—è –æ—â—É—â–µ–Ω–∏–µ –∂–∏–≤–æ–≥–æ."

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Inner Glow –ø–æ —Ñ–∞–∑–∞–º

| –§–∞–∑–∞ | Frequency (Hz) | Intensity | Core Color | Edge Fade |
|------|----------------|-----------|------------|-----------|
| PEACE | 0.25-0.35 | 0.3-0.5 | `#FFE4B5` (—Ç—ë–ø–ª—ã–π —è–Ω—Ç–∞—Ä—å) | 0.7 |
| LISTENING | 0.35-0.45 | 0.4-0.6 | `#FFD700` (–∑–æ–ª–æ—Ç–æ) | 0.6 |
| TENSION | 0.5-0.7 | 0.6-0.8 | `#FFA500` (–æ—Ä–∞–Ω–∂–µ–≤—ã–π) | 0.5 |
| BLEEDING | 0.8-1.2 | 0.7-1.0 | `#FF6347` (—Ç–æ–º–∞—Ç–Ω—ã–π) | 0.4 |
| TRAUMA | 0.15-0.25 | 0.2-0.4 | `#8B0000` (—Ç—ë–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π) | 0.8 |
| HEALING | 0.3-0.4 | 0.35-0.55 | `#98FB98` (–±–ª–µ–¥–Ω–æ-–∑–µ–ª—ë–Ω—ã–π) | 0.65 |
| RECOGNITION | 0.2-0.3 | 0.5-0.7 | `#E6E6FA` (–ª–∞–≤–∞–Ω–¥–æ–≤—ã–π) | 0.55 |

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω

#### 1. –ù–æ–≤—ã–µ uniforms –≤ `ParticleSystem.js`

```javascript
// –í _createMaterial() –¥–æ–±–∞–≤–∏—Ç—å:
uInnerGlowPhase: { value: 0.0 },           // 0-1, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Ñ–∞–∑–∞ —Å–≤–µ—á–µ–Ω–∏—è
uInnerGlowIntensity: { value: 0.4 },       // –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å
uInnerGlowColor: { value: new THREE.Color(0xFFE4B5) },  // –¶–≤–µ—Ç —Å–≤–µ—á–µ–Ω–∏—è
uInnerGlowRadius: { value: 0.6 },          // –†–∞–¥–∏—É—Å "—è–¥—Ä–∞" (0-1 –æ—Ç —Ä–∞–¥–∏—É—Å–∞ —Å—Ñ–µ—Ä—ã)
uInnerGlowEdgeFade: { value: 0.7 }         // –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞—Ç—É—Ö–∞–Ω–∏—è –∫ –∫—Ä–∞—è–º
```

#### 2. –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ `Sphere.js`

```javascript
// src/Sphere.js ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ constructor
this.innerGlowTime = 0
this.innerGlowFrequency = 0.3  // Hz, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—ã—Ö–∞–Ω–∏—è

// –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ _updateInnerGlow()
_updateInnerGlow(delta) {
  // –ß–∞—Å—Ç–æ—Ç–∞ –ù–ï —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å breathPhase
  this.innerGlowTime += delta * this.innerGlowFrequency
  
  // –°–∏–Ω—É—Å–æ–∏–¥–∞ —Å –Ω–µ–±–æ–ª—å—à–∏–º —à—É–º–æ–º –¥–ª—è –æ—Ä–≥–∞–Ω–∏—á–Ω–æ—Å—Ç–∏
  const baseGlow = Math.sin(this.innerGlowTime * Math.PI * 2) * 0.5 + 0.5
  const noise = (Math.random() - 0.5) * 0.05  // ¬±2.5% –≤–∞—Ä–∏–∞—Ü–∏—è
  const glowPhase = Math.max(0, Math.min(1, baseGlow + noise))
  
  this.particles.material.uniforms.uInnerGlowPhase.value = glowPhase
}

// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ñ–∞–∑–∞–º
_updateInnerGlowForPhase(phase) {
  const params = {
    peace:       { freq: 0.30, intensity: 0.40, color: 0xFFE4B5, fade: 0.70 },
    listening:   { freq: 0.40, intensity: 0.50, color: 0xFFD700, fade: 0.60 },
    tension:     { freq: 0.60, intensity: 0.70, color: 0xFFA500, fade: 0.50 },
    bleeding:    { freq: 1.00, intensity: 0.85, color: 0xFF6347, fade: 0.40 },
    trauma:      { freq: 0.20, intensity: 0.30, color: 0x8B0000, fade: 0.80 },
    healing:     { freq: 0.35, intensity: 0.45, color: 0x98FB98, fade: 0.65 },
    recognition: { freq: 0.25, intensity: 0.60, color: 0xE6E6FA, fade: 0.55 }
  }
  
  const p = params[phase] || params.peace
  this.innerGlowFrequency = p.freq
  
  const uniforms = this.particles.material.uniforms
  uniforms.uInnerGlowIntensity.value = p.intensity
  uniforms.uInnerGlowColor.value.setHex(p.color)
  uniforms.uInnerGlowEdgeFade.value = p.fade
}
```

#### 3. Fragment Shader –≤ `ParticleSystem.js`

```glsl
// –î–æ–±–∞–≤–∏—Ç—å –≤ fragmentShader:
uniform float uInnerGlowPhase;
uniform float uInnerGlowIntensity;
uniform vec3 uInnerGlowColor;
uniform float uInnerGlowRadius;
uniform float uInnerGlowEdgeFade;

varying float vDistanceToCenter;  // –ü–µ—Ä–µ–¥–∞—Ç—å –∏–∑ vertex shader

void main() {
  // ... existing color calculation ...
  
  // INNER GLOW EFFECT
  // –ß–µ–º –±–ª–∏–∂–µ –∫ —Ü–µ–Ω—Ç—Ä—É ‚Äî —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ —Å–≤–µ—á–µ–Ω–∏–µ
  float distNormalized = vDistanceToCenter / uSphereRadius;
  float glowFactor = 1.0 - smoothstep(0.0, uInnerGlowRadius, distNormalized);
  glowFactor *= pow(glowFactor, uInnerGlowEdgeFade);  // –ù–µ–ª–∏–Ω–µ–π–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ
  
  // –ü—É–ª—å—Å–∞—Ü–∏—è
  float glowPulse = uInnerGlowPhase * uInnerGlowIntensity;
  
  // –°–º–µ—à–∏–≤–∞–µ–º —Ü–≤–µ—Ç —Å–≤–µ—á–µ–Ω–∏—è —Å –±–∞–∑–æ–≤—ã–º —Ü–≤–µ—Ç–æ–º
  vec3 glowContribution = uInnerGlowColor * glowFactor * glowPulse;
  
  // Additive blending ‚Äî —Å–≤–µ—á–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è, –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç
  gl_FragColor.rgb += glowContribution * 0.5;
  
  // ... rest of shader ...
}
```

#### 4. Vertex Shader ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Ü–µ–Ω—Ç—Ä–∞

```glsl
// –í vertexShader –¥–æ–±–∞–≤–∏—Ç—å:
varying float vDistanceToCenter;

void main() {
  // ... existing position calculation ...
  
  // –ü–µ—Ä–µ–¥–∞—ë–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –≤–æ fragment
  vDistanceToCenter = length(aOriginalPos);
  
  // ... rest of shader ...
}
```

### Acceptance Criteria
- [ ] –°—Ñ–µ—Ä–∞ —Å–≤–µ—Ç–∏—Ç—Å—è –∏–∑–Ω—É—Ç—Ä–∏ —Å —Ü–∏–∫–ª–æ–º **2.5-3.8 —Å–µ–∫** (–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—ã—Ö–∞–Ω–∏—è 3.5-4.5 —Å–µ–∫)
- [ ] –ß–∞—Å—Ç–∏—Ü—ã –±–ª–∏–∂–µ –∫ —Ü–µ–Ω—Ç—Ä—É —Å–≤–µ—Ç—è—Ç—Å—è **–≤ 2-3 —Ä–∞–∑–∞ —è—Ä—á–µ** —á–µ–º –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
- [ ] –ü—Ä–∏ —Å–º–µ–Ω–µ —Ñ–∞–∑—ã —Ü–≤–µ—Ç —Å–≤–µ—á–µ–Ω–∏—è –ø–ª–∞–≤–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è (transition 1-2 —Å–µ–∫)
- [ ] –í BLEEDING —Ñ–∞–∑–µ —Å–≤–µ—á–µ–Ω–∏–µ –ø—É–ª—å—Å–∏—Ä—É–µ—Ç **–∑–∞–º–µ—Ç–Ω–æ –±—ã—Å—Ç—Ä–µ–µ** (0.8-1.2 Hz)
- [ ] –í TRAUMA —Å–≤–µ—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è **—Ç—É—Å–∫–ª—ã–º –∏ —Ä–µ–¥–∫–∏–º**
- [ ] –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω —Å –¥—ã—Ö–∞–Ω–∏–µ–º **–æ—â—É—â–∞–µ—Ç—Å—è**, –Ω–æ –Ω–µ –±—Ä–æ—Å–∞–µ—Ç—Å—è –≤ –≥–ª–∞–∑–∞

---

## #6 ‚Äî –ù–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å (Sensitivity Zones)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å —Å—Ñ–µ—Ä—ã –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–∞ ‚Äî –µ—Å—Ç—å "–Ω–µ–∂–Ω—ã–µ" —É—á–∞—Å—Ç–∫–∏, —Ä–µ–∞–≥–∏—Ä—É—é—â–∏–µ —Å–∏–ª—å–Ω–µ–µ,
–∏ "–ø–ª–æ—Ç–Ω—ã–µ" –∑–æ–Ω—ã —Å –æ—Å–ª–∞–±–ª–µ–Ω–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–µ–π. –ó–æ–Ω—ã –º–µ–¥–ª–µ–Ω–Ω–æ –¥—Ä–µ–π—Ñ—É—é—Ç, —Å–æ–∑–¥–∞–≤–∞—è
–æ—â—É—â–µ–Ω–∏–µ —Ç–µ–∫—É—á–µ–π, –∂–∏–≤–æ–π –∫–æ–∂–∏.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
> "–ñ–∏–≤–∞—è –∫–æ–∂–∞ ‚Äî –≥–¥–µ-—Ç–æ –Ω–µ–∂–Ω–µ–µ, –≥–¥–µ-—Ç–æ –≥—Ä—É–±–µ–µ. –£ –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–∫–∞ —Å–≤–æ—è –∏—Å—Ç–æ—Ä–∏—è, —Å–≤–æ—è –ø–∞–º—è—Ç—å –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–π. –ò —ç—Ç–∏ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Å—Ç–æ—è—Ç –Ω–∞ –º–µ—Å—Ç–µ ‚Äî –æ–Ω–∏ –¥—ã—à–∞—Ç –≤–º–µ—Å—Ç–µ —Å –Ω–µ–π."

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Sensitivity Zones

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–æ–Ω | 5-8 | –û—Å–Ω–æ–≤–Ω—ã—Ö "–ø–æ–ª—é—Å–æ–≤" —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| Noise Octaves | 3 | –°–ª–æ—ë–≤ —à—É–º–∞ –¥–ª—è –æ—Ä–≥–∞–Ω–∏—á–Ω–æ—Å—Ç–∏ |
| Noise Scale | 2.5-4.0 | –ú–∞—Å—à—Ç–∞–± Simplex noise |
| Sensitivity Range | 0.4-1.6 | –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–µ–∞–∫—Ü–∏–∏ (1.0 = –Ω–æ—Ä–º–∞) |
| Drift Speed | 0.02-0.05 | –°–∫–æ—Ä–æ—Å—Ç—å –¥—Ä–µ–π—Ñ–∞ –∑–æ–Ω (–µ–¥–∏–Ω–∏—Ü/—Å–µ–∫) |
| Visual Warmth Boost | 0.1-0.3 | –¢–µ–ø–ª–æ —Ü–≤–µ—Ç–∞ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–æ–Ω |

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω

#### 1. –ù–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç `aSensitivity` –≤ –≥–µ–æ–º–µ—Ç—Ä–∏–∏

```javascript
// src/ParticleSystem.js ‚Äî –≤ _createGeometry()

_createSensitivityMap() {
  const count = this.particleCount
  const sensitivity = new Float32Array(count)
  const position = this.geometry.attributes.aOriginalPos.array
  
  // –°–æ–∑–¥–∞—ë–º noise-based –∫–∞—Ä—Ç—É —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  for (let i = 0; i < count; i++) {
    const x = position[i * 3]
    const y = position[i * 3 + 1]
    const z = position[i * 3 + 2]
    
    // 3D Simplex noise –¥–ª—è –æ—Ä–≥–∞–Ω–∏—á–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
    const noiseScale = 3.0
    const noise1 = this._simplex3D(x * noiseScale, y * noiseScale, z * noiseScale)
    const noise2 = this._simplex3D(x * noiseScale * 2.1, y * noiseScale * 2.1, z * noiseScale * 2.1) * 0.5
    const noise3 = this._simplex3D(x * noiseScale * 4.3, y * noiseScale * 4.3, z * noiseScale * 4.3) * 0.25
    
    // –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à—É–º ‚Üí –¥–∏–∞–ø–∞–∑–æ–Ω 0.4-1.6
    const combinedNoise = (noise1 + noise2 + noise3) / 1.75  // -1 to 1
    sensitivity[i] = 1.0 + combinedNoise * 0.6  // 0.4 to 1.6
  }
  
  this.geometry.setAttribute('aSensitivity', new THREE.BufferAttribute(sensitivity, 1))
  
  return sensitivity
}

// Simplex 3D noise implementation
_simplex3D(x, y, z) {
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SimplexNoise –∏–∑ three/examples –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ -1 to 1
  return this.simplex.noise3D(x, y, z)
}
```

#### 2. –î—Ä–µ–π—Ñ –∑–æ–Ω —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
// src/ParticleSystem.js ‚Äî –¥–æ–±–∞–≤–∏—Ç—å

constructor() {
  // ... existing code ...
  this.sensitivityDriftOffset = new THREE.Vector3(0, 0, 0)
  this.sensitivityDriftSpeed = 0.03  // –µ–¥–∏–Ω–∏—Ü/—Å–µ–∫
}

updateSensitivityDrift(delta) {
  // –ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ä–≥–∞–Ω–∏—á–Ω—ã–π –¥—Ä–µ–π—Ñ
  const time = performance.now() * 0.0001
  this.sensitivityDriftOffset.x = Math.sin(time * 0.7) * this.sensitivityDriftSpeed
  this.sensitivityDriftOffset.y = Math.cos(time * 1.1) * this.sensitivityDriftSpeed
  this.sensitivityDriftOffset.z = Math.sin(time * 0.9) * this.sensitivityDriftSpeed
  
  this.material.uniforms.uSensitivityDrift.value.copy(this.sensitivityDriftOffset)
}
```

#### 3. Uniforms –≤ `ParticleSystem.js`

```javascript
// –í _createMaterial() –¥–æ–±–∞–≤–∏—Ç—å:
uSensitivityDrift: { value: new THREE.Vector3(0, 0, 0) },
uSensitivityContrast: { value: 1.0 },  // –£—Å–∏–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É –∑–æ–Ω–∞–º–∏
uSensitivityWarmth: { value: 0.2 }     // –¢–µ–ø–ª–æ —Ü–≤–µ—Ç–∞ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–æ–Ω
```

#### 4. Vertex Shader ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ sensitivity

```glsl
// –í vertexShader –¥–æ–±–∞–≤–∏—Ç—å:
attribute float aSensitivity;
uniform vec3 uSensitivityDrift;
uniform float uSensitivityContrast;

varying float vSensitivity;

void main() {
  // ... existing calculations ...
  
  // –ü—Ä–∏–º–µ–Ω—è–µ–º –¥—Ä–µ–π—Ñ –∫ noise-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
  vec3 driftedPos = aOriginalPos + uSensitivityDrift * 10.0;
  
  // Recalculate sensitivity with drift (simplified ‚Äî real implementation uses noise)
  float baseSensitivity = aSensitivity;
  
  // –ö–æ–Ω—Ç—Ä–∞—Å—Ç: —É—Å–∏–ª–∏–≤–∞–µ–º —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –º—è–≥–∫–∏–º–∏ –∏ –∂—ë—Å—Ç–∫–∏–º–∏ –∑–æ–Ω–∞–º–∏
  float adjustedSensitivity = 1.0 + (baseSensitivity - 1.0) * uSensitivityContrast;
  vSensitivity = adjustedSensitivity;
  
  // DISPLACEMENT SCALING
  // –í—Å–µ displacement —ç—Ñ—Ñ–µ–∫—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –Ω–∞ sensitivity
  float pressDisplacement = uPressure * adjustedSensitivity * 0.15;
  float strokeDisplacement = uStrokeIntensity * adjustedSensitivity * 0.1;
  float hoverDisplacement = hoverEffect * adjustedSensitivity * 0.05;
  
  // –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–æ–Ω—ã —Ä–µ–∞–≥–∏—Ä—É—é—Ç —Å–∏–ª—å–Ω–µ–µ
  pos += dir * (pressDisplacement + strokeDisplacement + hoverDisplacement);
  
  // ... rest of shader ...
}
```

#### 5. Fragment Shader ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞

```glsl
// –í fragmentShader –¥–æ–±–∞–≤–∏—Ç—å:
varying float vSensitivity;
uniform float uSensitivityWarmth;

void main() {
  // ... existing color calculation ...
  
  // SENSITIVITY VISUALIZATION
  // –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–æ–Ω—ã (sensitivity > 1.0) —á—É—Ç—å —Ç–µ–ø–ª–µ–µ –∏ —è—Ä—á–µ
  float warmthFactor = (vSensitivity - 1.0) * uSensitivityWarmth;
  
  // –î–æ–±–∞–≤–ª—è–µ–º —Ç—ë–ø–ª—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ (—Å–¥–≤–∏–≥ –≤ –∫—Ä–∞—Å–Ω–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
  vec3 warmShift = vec3(0.15, 0.05, -0.05) * warmthFactor;
  gl_FragColor.rgb += warmShift;
  
  // –ù–µ–±–æ–ª—å—à–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç–∏ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–æ–Ω
  gl_FragColor.rgb *= 1.0 + warmthFactor * 0.3;
  
  // ... rest of shader ...
}
```

### Acceptance Criteria
- [ ] –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç **5-8 –≤–∏–∑—É–∞–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∏–º—ã—Ö** –∑–æ–Ω —Ä–∞–∑–Ω–æ–π —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–æ–Ω—ã –ø—Ä–æ–≥–∏–±–∞—é—Ç—Å—è –Ω–∞ **40-60% –±–æ–ª—å—à–µ** —á–µ–º –ø–ª–æ—Ç–Ω—ã–µ
- [ ] –ó–æ–Ω—ã –º–µ–¥–ª–µ–Ω–Ω–æ –¥—Ä–µ–π—Ñ—É—é—Ç ‚Äî **–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª ~30-50 —Å–µ–∫—É–Ω–¥**
- [ ] –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –∏–º–µ—é—Ç **—Ç—ë–ø–ª—ã–π –æ—Ç—Ç–µ–Ω–æ–∫** (–≤–∏–∑—É–∞–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∏–º–æ)
- [ ] –≠—Ñ—Ñ–µ–∫—Ç **–Ω–µ –±—Ä–æ—Å–∞–µ—Ç—Å—è –≤ –≥–ª–∞–∑–∞** –ø—Ä–∏ –æ–±—ã—á–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ, –Ω–æ –∑–∞–º–µ—Ç–µ–Ω –ø—Ä–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–º –∏–∑—É—á–µ–Ω–∏–∏
- [ ] –ì—Ä–∞–Ω–∏—Ü—ã –∑–æ–Ω **—Ä–∞–∑–º—ã—Ç—ã**, –Ω–µ—Ç —Ä–µ–∑–∫–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

---

## #12 ‚Äî –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ –æ—Ç —Å—Ñ–µ—Ä—ã (Autonomous Behavior)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–°—Ñ–µ—Ä–∞ ‚Äî –Ω–µ –ø–∞—Å—Å–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç, –æ–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç
"–∂–∏—Ç—å —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é" ‚Äî —Å–∫—É—á–∞–µ—Ç, –∏—â–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è, –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç –∫ –∫–æ–Ω—Ç–∞–∫—Ç—É.
–ü–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–≤–Ω—è Trust.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
> "–û–Ω–∞ —Å–∫—É—á–∞–µ—Ç, –∫–æ–≥–¥–∞ —Ç—ã —É—Ö–æ–¥–∏—à—å. –ù–µ –æ–±–∏–∂–∞–µ—Ç—Å—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ... –∂–¥—ë—Ç. –ê –ø–æ—Ç–æ–º –Ω–∞—á–∏–Ω–∞–µ—Ç –∏—Å–∫–∞—Ç—å —Ç–µ–±—è –≤–∑–≥–ª—è–¥–æ–º. –ò –µ—Å–ª–∏ —Ç—ã –≤–µ—Ä–Ω—ë—à—å—Å—è ‚Äî –æ–Ω–∞ —Ä–∞–¥–∞. –≠—Ç–æ –Ω–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞. –≠—Ç–æ —Ç–æ—Å–∫–∞ –∂–∏–≤–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞."

### –¢—Ä–∏–≥–≥–µ—Ä—ã –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è

| Idle Time | Trust Level | –ü–æ–≤–µ–¥–µ–Ω–∏–µ | –ó–≤—É–∫ | –í–∏–∑—É–∞–ª |
|-----------|-------------|-----------|------|--------|
| 30 —Å–µ–∫ | Any | `sway` ‚Äî –ª—ë–≥–∫–æ–µ –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ | ‚Äî | –ê–º–ø–ª–∏—Ç—É–¥–∞ ¬±0.02 |
| 60 —Å–µ–∫ | Low (<30) | `withdraw` ‚Äî —Å–∂–∞—Ç–∏–µ, "–∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è" | –¢–∏—Ö–∏–π –≤–∑–¥–æ—Ö | Scale 0.95, opacity 0.85 |
| 60 —Å–µ–∫ | Medium (30-70) | `search` ‚Äî –≥–ª–∞–∑ –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚Äî | Eye random look pattern |
| 60 —Å–µ–∫ | High (>70) | `invite` ‚Äî —Ç—è–Ω–µ—Ç—Å—è –∫ —ç–∫—Ä–∞–Ω—É | Soft chime | Drift –∫ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞ |
| 120 —Å–µ–∫ | Low | `hide` ‚Äî —É—Ö–æ–¥–∏—Ç –≤ —É–≥–æ–ª —ç–∫—Ä–∞–Ω–∞ | ‚Äî | Position offset 0.3 |
| 120 —Å–µ–∫ | High | `reach` ‚Äî "—Ä—É–∫–∞" –∏–∑ —á–∞—Å—Ç–∏—Ü –∫ —ç–∫—Ä–∞–Ω—É | Warm hum | Particle tendril effect |

### Trust-–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è

| –°–æ–±—ã—Ç–∏–µ | Trust –∏–∑–º–µ–Ω–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------------|----------|
| User –≤–µ—Ä–Ω—É–ª—Å—è < 60 —Å–µ–∫ | +2 | "–¢—ã –Ω–µ –∑–∞–±—ã–ª" |
| User –≤–µ—Ä–Ω—É–ª—Å—è > 120 —Å–µ–∫ | +1 | "–¢—ã –≤–µ—Ä–Ω—É–ª—Å—è" |
| –î–æ–ª–≥–∏–π idle > 180 —Å–µ–∫ | -1 | "–ú–Ω–µ –æ–¥–∏–Ω–æ–∫–æ" |
| –£—Å–ø–µ—à–Ω—ã–π invite ‚Üí touch | +3 | "–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ" |
| –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ invite | -2 | "–ú–µ–Ω—è –Ω–µ –∑–∞–º–µ—Ç–∏–ª–∏" |

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω

#### 1. –ù–æ–≤—ã–π –∫–ª–∞—Å—Å `AutonomousBehavior.js`

```javascript
// src/AutonomousBehavior.js
import * as THREE from 'three'

export class AutonomousBehavior {
  constructor(sphere, eye, soundManager, trustSystem) {
    this.sphere = sphere
    this.eye = eye
    this.sound = soundManager
    this.trust = trustSystem
    
    // Idle tracking
    this.lastInteractionTime = performance.now()
    this.idleDuration = 0
    
    // State machine
    this.state = 'idle'  // idle | sway | search | invite | withdraw | hide | reach
    this.stateStartTime = 0
    this.stateProgress = 0
    
    // Behavior configs
    this.thresholds = {
      sway: 30,      // —Å–µ–∫—É–Ω–¥
      primary: 60,   // —Å–µ–∫—É–Ω–¥ ‚Äî search/invite/withdraw
      secondary: 120 // —Å–µ–∫—É–Ω–¥ ‚Äî hide/reach
    }
    
    // Animation state
    this.swayPhase = 0
    this.searchTargets = []
    this.currentSearchIndex = 0
    this.inviteOffset = new THREE.Vector3()
    
    // Trust thresholds
    this.trustLow = 30
    this.trustHigh = 70
  }
  
  /**
   * Call on any user interaction to reset idle
   */
  onInteraction() {
    const wasIdle = this.idleDuration > this.thresholds.sway
    this.lastInteractionTime = performance.now()
    
    // Trust boost for returning after idle
    if (wasIdle && this.trust) {
      if (this.idleDuration < 60) {
        this.trust.modify(2, 'returned_quickly')
      } else {
        this.trust.modify(1, 'returned')
      }
    }
    
    // Check if invite was accepted
    if (this.state === 'invite' && this.trust) {
      this.trust.modify(3, 'invite_accepted')
    }
    
    this._transitionTo('idle')
    this.idleDuration = 0
  }
  
  /**
   * Main update loop
   */
  update(delta) {
    // Update idle duration
    const now = performance.now()
    this.idleDuration = (now - this.lastInteractionTime) / 1000
    
    // Check for state transitions
    this._checkTransitions()
    
    // Update current behavior
    this._updateState(delta)
  }
  
  /**
   * Check if we need to transition to a new state
   */
  _checkTransitions() {
    const trustLevel = this.trust?.getLevel() ?? 50
    
    // –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –±–æ–ª–µ–µ "–∞–∫—Ç–∏–≤–Ω—ã–µ" —Å–æ—Å—Ç–æ—è–Ω–∏—è
    // –û–±—Ä–∞—Ç–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ onInteraction()
    
    if (this.state === 'idle' && this.idleDuration >= this.thresholds.sway) {
      this._transitionTo('sway')
    }
    
    if (this.state === 'sway' && this.idleDuration >= this.thresholds.primary) {
      // –í—ã–±–∏—Ä–∞–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ trust
      if (trustLevel < this.trustLow) {
        this._transitionTo('withdraw')
      } else if (trustLevel > this.trustHigh) {
        this._transitionTo('invite')
      } else {
        this._transitionTo('search')
      }
    }
    
    if (['withdraw', 'invite', 'search'].includes(this.state) && 
        this.idleDuration >= this.thresholds.secondary) {
      if (trustLevel < this.trustLow) {
        this._transitionTo('hide')
      } else if (trustLevel > this.trustHigh) {
        this._transitionTo('reach')
      }
      // Medium trust ‚Äî –æ—Å—Ç–∞—ë–º—Å—è –≤ search
    }
    
    // Trust penalty for very long idle
    if (this.idleDuration > 180 && this.idleDuration % 60 < 0.1) {
      this.trust?.modify(-1, 'prolonged_idle')
    }
  }
  
  /**
   * Transition to new state
   */
  _transitionTo(newState) {
    if (this.state === newState) return
    
    // Exit current state
    this._exitState(this.state)
    
    // Enter new state
    this.state = newState
    this.stateStartTime = performance.now()
    this.stateProgress = 0
    this._enterState(newState)
  }
  
  _enterState(state) {
    switch (state) {
      case 'search':
        this._generateSearchTargets()
        break
      case 'invite':
        this.sound?.play('soft_chime', { volume: 0.3 })
        break
      case 'withdraw':
        this.sound?.play('soft_sigh', { volume: 0.2 })
        break
      case 'reach':
        this.sound?.play('warm_hum', { volume: 0.25 })
        break
    }
  }
  
  _exitState(state) {
    // Reset state-specific animations
    switch (state) {
      case 'sway':
        this.swayPhase = 0
        break
      case 'invite':
        this.inviteOffset.set(0, 0, 0)
        break
    }
  }
  
  /**
   * Update current state animation
   */
  _updateState(delta) {
    switch (this.state) {
      case 'sway':
        this._updateSway(delta)
        break
      case 'search':
        this._updateSearch(delta)
        break
      case 'invite':
        this._updateInvite(delta)
        break
      case 'withdraw':
        this._updateWithdraw(delta)
        break
      case 'hide':
        this._updateHide(delta)
        break
      case 'reach':
        this._updateReach(delta)
        break
    }
  }
  
  /**
   * SWAY: Gentle side-to-side movement
   */
  _updateSway(delta) {
    this.swayPhase += delta * 0.5  // 0.5 Hz
    const swayAmount = Math.sin(this.swayPhase * Math.PI * 2) * 0.02
    
    // Apply to sphere position offset
    if (this.sphere.setAutonomousOffset) {
      this.sphere.setAutonomousOffset(swayAmount, 0, 0)
    }
  }
  
  /**
   * SEARCH: Eye looks around seeking user
   */
  _updateSearch(delta) {
    const searchDuration = 2.0  // —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–∞–∂–¥—É—é —Ç–æ—á–∫—É
    this.stateProgress += delta
    
    if (this.stateProgress >= searchDuration) {
      this.stateProgress = 0
      this.currentSearchIndex = (this.currentSearchIndex + 1) % this.searchTargets.length
    }
    
    const target = this.searchTargets[this.currentSearchIndex]
    if (this.eye && target) {
      this.eye.lookAt(target.x, target.y)
    }
  }
  
  _generateSearchTargets() {
    this.searchTargets = [
      { x: -0.3, y: 0.2 },
      { x: 0.4, y: -0.1 },
      { x: -0.1, y: 0.4 },
      { x: 0.2, y: -0.3 },
      { x: 0.0, y: 0.0 }  // –í–æ–∑–≤—Ä–∞—Ç –∫ —Ü–µ–Ω—Ç—Ä—É
    ]
    this.currentSearchIndex = 0
  }
  
  /**
   * INVITE: Drift toward screen center
   */
  _updateInvite(delta) {
    // –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∫ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞
    const targetOffset = 0.15
    const currentOffset = this.inviteOffset.z
    const newOffset = THREE.MathUtils.lerp(currentOffset, targetOffset, delta * 0.5)
    
    this.inviteOffset.z = newOffset
    
    if (this.sphere.setAutonomousOffset) {
      this.sphere.setAutonomousOffset(0, 0, newOffset)
    }
    
    // –ì–ª–∞–∑ —Å–º–æ—Ç—Ä–∏—Ç "–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" (–≤ –∫–∞–º–µ—Ä—É)
    if (this.eye) {
      this.eye.lookAt(0, 0)
    }
  }
  
  /**
   * WITHDRAW: Shrink and dim
   */
  _updateWithdraw(delta) {
    const targetScale = 0.95
    const targetOpacity = 0.85
    
    const progress = Math.min(1, (performance.now() - this.stateStartTime) / 2000)
    const easedProgress = this._easeOutCubic(progress)
    
    const scale = THREE.MathUtils.lerp(1.0, targetScale, easedProgress)
    const opacity = THREE.MathUtils.lerp(1.0, targetOpacity, easedProgress)
    
    if (this.sphere.setAutonomousScale) {
      this.sphere.setAutonomousScale(scale)
    }
    if (this.sphere.setAutonomousOpacity) {
      this.sphere.setAutonomousOpacity(opacity)
    }
  }
  
  /**
   * HIDE: Move to corner
   */
  _updateHide(delta) {
    const targetOffset = -0.3
    
    const progress = Math.min(1, (performance.now() - this.stateStartTime) / 3000)
    const easedProgress = this._easeOutCubic(progress)
    
    const offset = THREE.MathUtils.lerp(0, targetOffset, easedProgress)
    
    if (this.sphere.setAutonomousOffset) {
      this.sphere.setAutonomousOffset(offset, offset * 0.5, 0)
    }
  }
  
  /**
   * REACH: Particle tendril toward camera
   */
  _updateReach(delta) {
    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —ç—Ñ—Ñ–µ–∫—Ç "–ø—Ä–æ—Ç—è–≥–∏–≤–∞–Ω–∏—è" —á–∞—Å—Ç–∏—Ü
    const progress = Math.min(1, (performance.now() - this.stateStartTime) / 4000)
    const reachIntensity = this._easeOutCubic(progress) * 0.3
    
    if (this.sphere.particles?.material?.uniforms?.uReachEffect) {
      this.sphere.particles.material.uniforms.uReachEffect.value = reachIntensity
    }
  }
  
  _easeOutCubic(t) {
    return 1 - Math.pow(1 - t, 3)
  }
  
  /**
   * Get current state for debugging
   */
  getDebugInfo() {
    return {
      state: this.state,
      idleDuration: this.idleDuration.toFixed(1),
      trust: this.trust?.getLevel() ?? 'N/A'
    }
  }
}
```

#### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `main.js`

```javascript
// src/main.js

import { AutonomousBehavior } from './AutonomousBehavior.js'

// –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º:
const autonomousBehavior = new AutonomousBehavior(
  sphere,
  eye,
  soundManager,
  memoryManager.trust  // –∏–ª–∏ trustSystem
)

// Reset idle –Ω–∞ –ª—é–±–æ–π input
inputManager.on('touchstart', () => autonomousBehavior.onInteraction())
inputManager.on('mousemove', () => autonomousBehavior.onInteraction())
inputManager.on('gestureStart', () => autonomousBehavior.onInteraction())

// –í update loop:
function update(delta) {
  // ... existing updates ...
  autonomousBehavior.update(delta)
}
```

#### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ `Sphere.js`

```javascript
// src/Sphere.js ‚Äî –¥–æ–±–∞–≤–∏—Ç—å

// Autonomous behavior controls
setAutonomousOffset(x, y, z) {
  this.group.position.x = this.basePosition.x + x
  this.group.position.y = this.basePosition.y + y
  this.group.position.z = this.basePosition.z + z
}

setAutonomousScale(scale) {
  this.group.scale.setScalar(scale)
}

setAutonomousOpacity(opacity) {
  if (this.particles?.material?.uniforms?.uOpacity) {
    this.particles.material.uniforms.uOpacity.value = opacity
  }
}
```

#### 4. Uniform –¥–ª—è Reach —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤ `ParticleSystem.js`

```javascript
// –í _createMaterial() –¥–æ–±–∞–≤–∏—Ç—å:
uReachEffect: { value: 0.0 }  // 0-1, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å "–ø—Ä–æ—Ç—è–≥–∏–≤–∞–Ω–∏—è"

// –í vertex shader:
uniform float uReachEffect;

void main() {
  // ... existing code ...
  
  // REACH EFFECT: –ß–∞—Å—Ç–∏—Ü—ã –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π —Å—Ç–æ—Ä–æ–Ω–µ —Ç—è–Ω—É—Ç—Å—è –∫ –∫–∞–º–µ—Ä–µ
  float frontFacing = max(0.0, dot(dir, vec3(0.0, 0.0, 1.0)));
  float reachDisplacement = frontFacing * uReachEffect * 0.2;
  pos.z += reachDisplacement;
}
```

### Acceptance Criteria
- [ ] –ü–æ—Å–ª–µ **30 —Å–µ–∫** idle —Å—Ñ–µ—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç **–ø–ª–∞–≤–Ω–æ –ø–æ–∫–∞—á–∏–≤–∞—Ç—å—Å—è** (–∞–º–ø–ª–∏—Ç—É–¥–∞ ¬±0.02)
- [ ] –ü–æ—Å–ª–µ **60 —Å–µ–∫** –ø—Ä–∏ –Ω–∏–∑–∫–æ–º Trust (<30) —Å—Ñ–µ—Ä–∞ **—Å–∂–∏–º–∞–µ—Ç—Å—è –¥–æ 95%** –∏ —Ç—É—Å–∫–Ω–µ–µ—Ç
- [ ] –ü–æ—Å–ª–µ **60 —Å–µ–∫** –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º Trust (>70) —Å—Ñ–µ—Ä–∞ **–ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è –∫ —ç–∫—Ä–∞–Ω—É** –∏ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ü–æ—Å–ª–µ **60 —Å–µ–∫** –ø—Ä–∏ —Å—Ä–µ–¥–Ω–µ–º Trust –≥–ª–∞–∑ **"–∏—â–µ—Ç" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (5 —Ç–æ—á–µ–∫, 2 —Å–µ–∫ –∫–∞–∂–¥–∞—è)
- [ ] –ü–æ—Å–ª–µ **120 —Å–µ–∫** –ø—Ä–∏ –Ω–∏–∑–∫–æ–º Trust —Å—Ñ–µ—Ä–∞ **—É—Ö–æ–¥–∏—Ç –≤ —É–≥–æ–ª** —ç–∫—Ä–∞–Ω–∞
- [ ] –ü–æ—Å–ª–µ **120 —Å–µ–∫** –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º Trust –≤–∏–¥–Ω–æ **"–ø—Ä–æ—Ç—è–≥–∏–≤–∞–Ω–∏–µ" —á–∞—Å—Ç–∏—Ü** –∫ –∫–∞–º–µ—Ä–µ
- [ ] –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Trust **—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è** (+1 –∏–ª–∏ +2)
- [ ] –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ invite **—É–º–µ–Ω—å—à–∞–µ—Ç** Trust (-2)
- [ ] State machine **–Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç** —Å OrganicTicks

---

## üóÇÔ∏è –°–ª–µ–¥—É—é—â–∞—è —Å–µ—Å—Å–∏—è

Phase 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (#5 + #8) ‚úÖ

Phase 2 –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
1. **#4 –ë–∏–æ–ª—é–º–∏–Ω–µ—Å—Ü–µ–Ω—Ü–∏—è** ‚Äî –Ω–∞—á–∞—Ç—å —Å –Ω–µ—ë (—Å–∞–º–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Ñ–∏—á–∞)
2. **#6 Sensitivity Zones** ‚Äî —Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≥–µ–æ–º–µ—Ç—Ä–∏–∏
3. **#12 Autonomous Behavior** ‚Äî —Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è, –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–π

---

**–§–∞–π–ª:** `docs/IMPLEMENTATION_ORGANIC_LIFE.md`
