# HANDOFF: Idle-Based Agency

**Дата:** 2026-01-11  
**Статус:** ✅ Готово

---

## Что сделано

Реализована "независимость сферы" — автономное поведение при бездействии пользователя.

### Новый файл

| Файл | Суть |
|------|------|
| `src/IdleAgency.js` | Отслеживает idle time, управляет mood (calm→curious→restless→attention-seeking) |

### Изменения

| Файл | Суть |
|------|------|
| `src/OrganicTicks.js` | Добавлен `setIdleMood()`, mood-based частота ticks |
| `src/main.js` | Интеграция IdleAgency в update loop |

---

## Mood Timeline (v2 - быстрые реакции)

| Время idle | Mood | Поведение |
|------------|------|-----------|
| 0-2с | `calm` | Обычное дыхание |
| 2-4с | `curious` | Глаз чаще блуждает — "она заметила" |
| 4-6с | `restless` | Микроповороты сферы, ticks x2 — "куда ты?" |
| 6с+ | `attention-seeking` | Z-bounce, вспышки, **поворот лицом к камере** — "смотри на меня!" |

---

## Новое: Face Viewer Rotation

В режиме `attention-seeking` сфера плавно поворачивается так, чтобы её глаз смотрел на камеру (зрителя). Использует quaternion slerp к identity rotation.

---

## Что нужно проверить вручную

- [ ] Не трогать 6+ секунд → наблюдать переходы настроения
- [ ] Касание → мгновенный reset к calm
- [ ] Глаз блуждает в curious mode
- [ ] Подпрыгивание + поворот к камере в attention-seeking mode

---

## Характер

**Игривый** — как кошка, ждущая внимания. Не агрессивный, но настойчивый.

